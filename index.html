<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ê†∏ÂøÉËØçÊ±áÈöèË∫´Â≠¶ - Á¨¨‰∏ÄÂçïÂÖÉ</title>
    <style>
        :root { --primary: #4a90e2; --bg: #f4f7f9; }
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); font-family: sans-serif; display: flex; justify-content: center; height: 100vh; overflow: hidden; }
        #app-wrapper { width: 100%; max-width: 500px; height: 100vh; display: flex; flex-direction: column; background: white; position: relative; }
        #search-container { padding: 10px; background: #fff; border-bottom: 1px solid #eee; position: sticky; top: 0; z-index: 100; flex-shrink: 0; }
        #search-input { width: 100%; padding: 10px 15px; border: 1px solid #ddd; border-radius: 20px; outline: none; }
        #search-results { position: absolute; top: 55px; left: 10px; right: 10px; background: white; border: 1px solid #eee; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); max-height: 300px; overflow-y: auto; display: none; z-index: 101; }
        .res-item { padding: 12px; border-bottom: 1px solid #f9f9f9; font-size: 0.9em; }
        #scrollable-body { flex: 1; overflow-y: auto; padding-bottom: 80px; }
        #image-area { width: 100%; aspect-ratio: 4/3; background-size: cover; background-position: center; position: relative; background-color: #e0e0e0; }
        .tag { position: absolute; background: rgba(74, 144, 226, 0.9); color: white; padding: 4px 10px; border-radius: 4px; font-size: 12px; cursor: pointer; transform: translate(-50%, -50%); box-shadow: 0 2px 6px rgba(0,0,0,0.2); }
        #s-title { background: #eef5ff; display: block; padding: 4px 15px; border-radius: 20px; margin: 15px auto 10px; width: fit-content; font-weight: bold; color: var(--primary); font-size: 0.9rem; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        #main-content { padding: 0 20px 20px; }
        .audio-icon { width: 16px; height: 16px; vertical-align: middle; margin-right: 6px; cursor: pointer; flex-shrink: 0; }
        .phonetic-icon { width: 12px; height: 12px; vertical-align: middle; margin-left: 4px; }
        #s-en { font-size: 0.9em; color: #333; line-height: 1.4; margin-bottom: 8px; display: flex; align-items: flex-start; }
        #s-zh { color: #666; font-size: 0.7em; line-height: 1.5; margin-bottom: 20px; padding-left: 22px; }
        #d-box { background: #f8fbff; border: 1px solid #d0e3f9; border-radius: 12px; padding: 15px; }
        #d-t { font-size: 1.1em; font-weight: bold; color: var(--primary); margin-bottom: 10px; display: block; }
        .phonetic-wrap { display: flex; gap: 8px; margin-bottom: 10px; flex-wrap: wrap; }
        .phonetic-btn { background: #eef5ff; border: 1px solid #d0e3f9; padding: 4px 8px; border-radius: 6px; font-size: 0.7em; color: #777; cursor: pointer; display: flex; align-items: center; }
        #d-m { font-size: 0.85em; font-weight: bold; margin-bottom: 8px; color: #444; }
        #d-note { color: #777; font-size: 0.75em; line-height: 1.6; margin-bottom: 12px; }
        #d-ex { color: #555; font-size: 0.8em; background: #fff; padding: 8px; border-radius: 6px; border-left: 3px solid #adcff7; line-height: 1.4; display: flex; align-items: flex-start; }
        #nav-bar { position: absolute; bottom: 0; width: 100%; height: 60px; display: flex; background: white; border-top: 1px solid #eee; align-items: center; justify-content: space-around; padding: 0 20px; }
        button { padding: 8px 20px; border: none; background: var(--primary); color: white; border-radius: 20px; cursor: pointer; font-size: 0.9em; }
        button:disabled { background: #ccc; }
    </style>
</head>
<body>

<div id="app-wrapper">
    <div id="search-container">
        <input type="text" id="search-input" placeholder="üîç ÊêúÁ¥¢ÂçïËØç„ÄÅÂê´‰πâÊàñÁ¨îËÆ∞..." oninput="handleSearch()">
        <div id="search-results"></div>
    </div>
    <div id="scrollable-body">
        <div id="image-area"></div>
        <div id="main-content">
            <div id="s-title"></div> 
            <div id="s-en">
                <img src="https://img.icons8.com/material-rounded/24/4a90e2/speaker.png" class="audio-icon" onclick="speakScene()">
                <span id="s-en-text"></span>
            </div>
            <div id="s-zh"></div>
            <div id="d-init" style="color:#999; text-align:center; font-size:0.9em; border-top:1px dashed #ddd; padding-top:15px;">ÁÇπÂáªÁîªÈù¢Ê†áÁ≠æÊü•ÁúãËØ¶ÊÉÖ</div>
            <div id="d-box" style="display:none">
                <div id="d-t" style="text-transform: lowercase;"></div>
                <div class="phonetic-wrap">
                    <div class="phonetic-btn" onclick="speakWord(1)">
                        <span id="p-uk">Ëã± [ ]</span><img src="image_f396a7.png" class="phonetic-icon">
                    </div>
                    <div class="phonetic-btn" onclick="speakWord(2)">
                        <span id="p-us">Áæé [ ]</span><img src="image_f396a7.png" class="phonetic-icon">
                    </div>
                </div>
                <div id="d-m"></div>
                <div id="d-note"></div>
                <div id="d-ex" onclick="speakExample()">
                    <img src="https://img.icons8.com/material-rounded/24/4a90e2/speaker.png" class="audio-icon" style="width:14px; height:14px; margin-top:3px;">
                    <span id="d-ex-text"></span>
                </div>
            </div>
        </div>
    </div>
    <div id="nav-bar">
        <button id="pBtn" onclick="move(-1)">‰∏ä‰∏ÄÁªÑ</button>
        <span id="p-idx">1 / 5</span>
        <button id="nBtn" onclick="move(1)">‰∏ã‰∏ÄÁªÑ</button>
    </div>
</div>

<script>
  const dataset = [
        {
            img: "demo_pic/demo1.jpg",
            title: "Â≠¶Èú∏ÁöÑ‚ÄúË∂ÖËÉΩÂäõ‚Äù", 
            en: "To reach a high level of achievement, he tried to concentrate on his books with high efficiency, but a flying mosquito distracted him until he felt exhausted.",
            zh: "‰∏∫‰∫ÜËé∑ÂæóÊûÅÈ´òÁöÑÊàêÂ∞±Ôºå‰ªñËØïÂõæ‰ª•ÊûÅÈ´òÁöÑÊïàÁéá‰∏ìÊ≥®‰∫é‰π¶Êú¨Ôºå‰ΩÜ‰∏ÄÂè™È£ûËöä‰∏çÂÅúÂú∞ËÆ©‰ªñÂàÜÂøÉÔºåÁõ¥Âà∞‰ªñÊÑüÂà∞Á≤æÁñ≤ÂäõÁ´≠„ÄÇ",
            words: [
                { t: "concentrate", uk: "[Ààk…ínsntre…™t]", us: "[Ààk…ëÀênsntre…™t]", m: "v. ‰∏ìÊ≥®", ex: "I struggle to concentrate when it is too noisy. (Â§™ÂêµÁöÑÊó∂ÂÄôÊàëÂæàÈöæÈõÜ‰∏≠Ê≥®ÊÑèÂäõ„ÄÇ)", note: "con(‰∏ÄËµ∑)+centr(‰∏≠ÂøÉ) -> ÂÖ®ÈÉ®ËÅöÂú®‰∏≠ÂøÉ„ÄÇÊê≠ÈÖçÔºöconcentrate on (ÂÖ®Á•ûË¥ØÊ≥®‰∫é...)", x: "32%", y: "49%" },
                { t: "distract", uk: "[d…™Ààstr√¶kt]", us: "[d…™Ààstr√¶kt]", m: "v. ÂàÜÂøÉ", ex: "Don't let the phone distract you from your study. (‰∏çË¶ÅËÆ©ÊâãÊú∫ÂàÜÊï£‰Ω†Â≠¶‰π†ÁöÑÊ≥®ÊÑèÂäõ„ÄÇ)", note: "dis(ÂàÜÂºÄ)+tract(Êãâ) -> ÊääÊ≥®ÊÑèÂäõÊãâÂºÄ„ÄÇÊê≠ÈÖçÔºödistract attention (ÂàÜÊï£Ê≥®ÊÑèÂäõ)", x: "10%", y: "10%" },
                { t: "efficiency", uk: "[…™Ààf…™ Énsi]", us: "[…™Ààf…™ Énsi]", m: "n. ÊïàÁéá", ex: "The new machine will increase our work efficiency. (Êñ∞Êú∫Âô®Â∞ÜÊèêÈ´òÊàë‰ª¨ÁöÑÂ∑•‰ΩúÊïàÁéá„ÄÇ)", note: "eff(Âá∫)+fici(ÂÅö) -> ÂÅöÂá∫Êù•ÁöÑÊïàÊûú„ÄÇÊê≠ÈÖçÔºöwork efficiency (Â∑•‰ΩúÊïàÁéá)", x: "48%", y: "8%" },
                { t: "achievement", uk: "[…ôÀàt ÉiÀêvm…ônt]", us: "[…ôÀàt ÉiÀêvm…ônt]", m: "n. ÊàêÂ∞±/ÊàêÁª©", ex: "This prize is a great achievement for the team. (Ëøô‰∏™Â•ñÈ°πÂØπÂõ¢ÈòüÊù•ËØ¥ÊòØ‰∏ÄÈ°πÂ∑®Â§ßÁöÑÊàêÂ∞±„ÄÇ)", note: "a+chiev(È¶ñÈ¢Ü) -> ÊàêÊûú„ÄÇÊê≠ÈÖçÔºöa sense of achievement (ÊàêÂ∞±ÊÑü)", x: "84%", y: "8%" },
                { t: "exhausted", uk: "[…™…°Ààz…îÀêst…™d]", us: "[…™…°Ààz…îÀêst…™d]", m: "adj. Á≤æÁñ≤ÂäõÁ´≠", ex: "The long walk left us completely exhausted. (ÈïøË∑ùÁ¶ªÁöÑË°åËµ∞ËÆ©Êàë‰ª¨ÂΩªÂ∫ïÁ≤æÁñ≤ÂäõÁ´≠„ÄÇ)", note: "ex(Âá∫)+haust(ÊäΩÊ∞¥) -> Á≤æÂäõÊäΩÂπ≤„ÄÇÊê≠ÈÖçÔºöfeel exhausted (ÊÑüÂà∞Á≤æÁñ≤ÂäõÁ´≠)", x: "85%", y: "76%" }
            ]
        },
        {
            img: "demo_pic/demo2.jpg",
            title: "ÁªùÊúõÁöÑ‚ÄúÊ∑±Â§úÁ™ÅÂáª‚Äù", 
            en: "It is inevitable that you must overcome your sleepiness to finish this urgent assignment, because you chose to postpone it until the last minute.",
            zh: "‰Ω†ÂøÖÈ°ªÂÖãÊúçÂõ∞ÊÑèÊù•ÂÆåÊàêËøôÈ°πÁ¥ßÊÄ•ÁöÑ‰ªªÂä°ÔºåËøôÊòØ‰∏çÂèØÈÅøÂÖçÁöÑÔºåÂõ†‰∏∫‰Ω†ÈÄâÊã©Êää‰∫ãÊé®ËøüÂà∞‰∫ÜÊúÄÂêé‰∏ÄÂàÜÈíü„ÄÇ",
            words: [
                { t: "assignment", uk: "[…ôÀàsa…™nm…ônt]", us: "[…ôÀàsa…™nm…ônt]", m: "n. ‰ªªÂä°/‰Ωú‰∏ö", ex: "The teacher gave us a difficult assignment. (ËÄÅÂ∏àÁªô‰∫ÜÊàë‰ª¨‰∏ÄÈ°πÂæàÈöæÁöÑ‰Ωú‰∏ö„ÄÇ)", note: "as+sign(Á≠æÂêç) -> Á≠æÂêçÁöÑ‰ªªÂä°„ÄÇÊê≠ÈÖçÔºösubmit an assignment (Êèê‰∫§‰ªªÂä°/‰Ωú‰∏ö)", x: "71%", y: "76%" },
                { t: "postpone", uk: "[p…ôÀàsp…ô än]", us: "[p…ôÀàspo än]", m: "v. Êé®Ëøü", ex: "We had to postpone the game because of rain. (Âõ†‰∏∫‰∏ãÈõ®ÔºåÊàë‰ª¨‰∏çÂæó‰∏çÊé®ËøüÊØîËµõ„ÄÇ)", note: "post(Âêé)+pone(Êîæ) -> Âª∂Âêé„ÄÇÊê≠ÈÖçÔºöpostpone a meeting (Êé®Ëøü‰ºöËÆÆ)", x: "30%", y: "91%" },
                { t: "urgent", uk: "[Àà…úÀêd í…ônt]", us: "[Àà…úÀêrd í…ônt]", m: "adj. Á¥ßÊÄ•ÁöÑ", ex: "I received an urgent message this morning. (‰ªäÂ§©Êó©‰∏äÊàëÊî∂Âà∞‰∫Ü‰∏ÄÊù°Á¥ßÊÄ•Ê∂àÊÅØ„ÄÇ)", note: "urg(ÂÇ¨‰øÉ)+ent -> Á¥ßÊÄ•„ÄÇÊê≠ÈÖçÔºöurgent matter (Á¥ßÊÄ•‰∫ãÈ°π)", x: "45%", y: "15%" },
                { t: "inevitable", uk: "[…™nÀàev…™t…ôbl]", us: "[…™nÀàev…™t…ôbl]", m: "adj. ‰∏çÂèØÈÅøÂÖçÁöÑ", ex: "War is not inevitable if we talk. (Â¶ÇÊûúÈÄöËøáÂØπËØùÔºåÊàò‰∫âÂπ∂Èùû‰∏çÂèØÈÅøÂÖç„ÄÇ)", note: "in(‰∏ç)+evit(ÈÅøÂºÄ) -> ÈÅø‰∏çÂºÄ„ÄÇÊê≠ÈÖçÔºöan inevitable result (ÂøÖÁÑ∂ÁöÑÁªìÊûú)", x: "90%", y: "49%" },
                { t: "overcome", uk: "[Àå…ô äv…ôÀàk åm]", us: "[Àåo äv…ôrÀàk åm]", m: "v. ÂÖãÊúç", ex: "She eventually overcame her shyness. (Â•πÊúÄÁªàÂÖãÊúç‰∫ÜÂ•πÁöÑÂÆ≥Áæû„ÄÇ)", note: "over(‰∏ä)+come(Êù•) -> Ë∑®Ëøá„ÄÇÊê≠ÈÖçÔºöovercome difficulties (ÂÖãÊúçÂõ∞Èöæ)", x: "64%", y: "23%" }
            ]
        },
        {
            img: "demo_pic/demo3.jpg",
            title: "È£üÂ†ÇÁöÑ‚ÄúÊöóÈªëÊñôÁêÜ‚Äù", 
            en: "Although the chef claimed this 'mystery soup' met the safety standard and was nutritious, the student filed a complaint and used bread as a substitute rather than starve.",
            zh: "Â∞ΩÁÆ°Âé®Â∏àÂ£∞Áß∞ËøôÁ¢ó‚ÄúÁ•ûÁßòÊ±§‚ÄùÁ¨¶ÂêàÂÆâÂÖ®Ê†áÂáÜ‰∏îÊúâËê•ÂÖªÔºå‰ΩÜÂ≠¶ÁîüÂÆÅÊÑøÊäïËØâÂπ∂Áî®Èù¢ÂåÖ‰Ωú‰∏∫Êõø‰ª£ÂìÅÔºå‰πü‰∏çÊÑøÊå®È•ø„ÄÇ",
            words: [
                { t: "standard", uk: "[Ààst√¶nd…ôd]", us: "[Ààst√¶nd…ôrd]", m: "n. Ê†áÂáÜ", ex: "Your work is below the required standard. (‰Ω†ÁöÑÂ∑•‰Ωú‰Ωé‰∫éË¶ÅÊ±ÇÁöÑÊ†áÂáÜ„ÄÇ)", note: "stand(Á´ôÁ´ã) -> Á´ôÂæó‰ΩèÁöÑËßÑÂàô„ÄÇÊê≠ÈÖçÔºöliving standard (ÁîüÊ¥ªÊ∞¥Âπ≥)", x: "17%", y: "82%" },
                { t: "nutritious", uk: "[njuÀàtr…™ É…ôs]", us: "[nuÀàtr…™ É…ôs]", m: "adj. ÊúâËê•ÂÖªÁöÑ", ex: "Vegetables are a nutritious part of our diet. (Ëî¨ËèúÊòØÊàë‰ª¨È•ÆÈ£ü‰∏≠Ëê•ÂÖª‰∏∞ÂØåÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ)", note: "nutri(ÂÖªÂàÜ) -> Â§öÂÖªÂàÜÁöÑ„ÄÇÊê≠ÈÖçÔºönutritious food (Ëê•ÂÖª‰∏∞ÂØåÁöÑÈ£üÁâ©)", x: "45%", y: "13%" },
                { t: "starve", uk: "[st…ëÀêv]", us: "[st…ëÀêrv]", m: "v. Êå®È•ø", ex: "They were left to starve in the desert. (‰ªñ‰ª¨Ë¢´ÈÅóÂºÉÂú®Ê≤ôÊº†‰∏≠Êå®È•ø„ÄÇ)", note: "Ê≠ªÂæó(Ë∞êÈü≥)„ÄÇÊê≠ÈÖçÔºöstarve for (Ê∏¥ÊúõÂæóÂà∞...)", x: "86%", y: "10%" },
                { t: "complaint", uk: "[k…ômÀàple…™nt]", us: "[k…ômÀàple…™nt]", m: "n. ÊäïËØâ/Êä±ÊÄ®", ex: "The manager dealt with our complaint quickly. (ÁªèÁêÜÂæàÂø´Â§ÑÁêÜ‰∫ÜÊàë‰ª¨ÁöÑÊäïËØâ„ÄÇ)", note: "com(Ëµ∑)+plain(ËØâ)„ÄÇÊê≠ÈÖçÔºöfile a complaint (Êèê‰∫§ÊäïËØâ)", x: "50%", y: "90%" },
                { t: "substitute", uk: "[Ààs åbst…™tjuÀêt]", us: "[Ààs åbst…™tuÀêt]", m: "n. Êõø‰ª£ÂìÅ", ex: "You can use honey as a substitute for sugar. (‰Ω†ÂèØ‰ª•Áî®ËúÇËúú‰ª£ÊõøÁ≥ñ„ÄÇ)", note: "sub(‰∏ã)+stit(Êîæ) -> Â§áÈÄâ„ÄÇÊê≠ÈÖçÔºösubstitute for (Êõø‰ª£...)", x: "84%", y: "83%" }
            ]
        },
        {
            img: "demo_pic/demo4.jpg",
            title: "ÊúàÂÖâÊóèÁöÑ‚ÄúÊ∂àË¥πÈªëÊ¥û‚Äù",
            en: "After her budget was consumed by the irresistible attraction of luxury goods, she felt deep regret because she couldn't even afford a piece of bread.",
            zh: "Âú®È¢ÑÁÆóË¢´Â•¢‰æàÂìÅ‰∏çÂèØÊäóÊãíÁöÑËØ±ÊÉëÊ∂àËÄóÊÆÜÂ∞ΩÂêéÔºåÂ•πÊÑüÂà∞Ê∑±Ê∑±ÁöÑÂêéÊÇîÔºåÂõ†‰∏∫Â•πÁé∞Âú®Ëøû‰∏ÄÁâáÈù¢ÂåÖÈÉΩË¥üÊãÖ‰∏çËµ∑‰∫Ü„ÄÇ",
            words: [
                { t: "luxury", uk: "[Ààl åk É…ôri]", us: "[Ààl åk É…ôri]", m: "n. Â•¢‰æàÂìÅ", ex: "We can't afford such a luxury. (Êàë‰ª¨Ë¥üÊãÖ‰∏çËµ∑ËøôÁßçÂ•¢‰æà„ÄÇ)", note: "lux(ÂÖâ) -> ÂèëÂÖâÁöÑ„ÄÇÊê≠ÈÖçÔºöluxury goods (Â•¢‰æàÂìÅ)", x: "41%", y: "8%" },
                { t: "budget", uk: "[Ààb åd í…™t]", us: "[Ààb åd í…™t]", m: "n. È¢ÑÁÆó", ex: "The government cut the education budget. (ÊîøÂ∫úÂâäÂáè‰∫ÜÊïôËÇ≤È¢ÑÁÆó„ÄÇ)", note: "bud(Èí±ÂåÖ)+get„ÄÇÊê≠ÈÖçÔºöwithin budget (Âú®È¢ÑÁÆóÂÜÖ)", x: "12%", y: "90%" },
                { t: "consume", uk: "[k…ônÀàsjuÀêm]", us: "[k…ônÀàsuÀêm]", m: "v. Ê∂àËÄó/Ê∂àË¥π", ex: "Big cars consume more fuel. (Â§ßÊéíÈáèÊ±ΩËΩ¶Ê∂àËÄóÊõ¥Â§öÁáÉÊñô„ÄÇ)", note: "con+sum(Êãø)„ÄÇÊê≠ÈÖçÔºötime-consuming (ËÄóÊó∂ÁöÑ)", x: "10%", y: "60%" },
                { t: "afford", uk: "[…ôÀàf…îÀêd]", us: "[…ôÀàf…îÀêrd]", m: "v. Ë¥üÊãÖÂæóËµ∑", ex: "We can't afford to lose any more time. (Êàë‰ª¨ÊâøÊãÖ‰∏çËµ∑Êµ™Ë¥πÊõ¥Â§öÊó∂Èó¥‰∫Ü„ÄÇ)", note: "‰∏ÄÂÜç(af)ÂæÄÂâç(ford)„ÄÇÊê≠ÈÖçÔºöafford to do (ÊãÖË¥üÂæóËµ∑ÂÅöÊüê‰∫ã)", x: "90%", y: "35%" },
                { t: "regret", uk: "[r…™Àà…°ret]", us: "[r…™Àà…°ret]", m: "v./n. ÂêéÊÇî", ex: "I regret telling him my secret. (ÊàëÂêéÊÇîÊääÁßòÂØÜÂëäËØâ‰∫Ü‰ªñ„ÄÇ)", note: "re(Âõû)+gret(Âì≠)„ÄÇÊê≠ÈÖçÔºöregret doing (ÂêéÊÇîÂÅö‰∫ÜÊüê‰∫ã)", x: "69%", y: "33%" }
            ]
        },
        {
            img: "demo_pic/demo5.jpg",
            title: "ËÅåÂú∫Êñ∞‰∫∫ÁöÑ‚ÄúÂÖâËäí‚Äù", 
            en: "As a young candidate, he showed great potential and confidence during the interview, proving that he was fully qualified for the job.",
            zh: "‰Ωú‰∏∫‰∏ÄÂêçÂπ¥ËΩªÁöÑÂÄôÈÄâ‰∫∫Ôºå‰ªñÂú®Èù¢ËØï‰∏≠Â±ïÁé∞‰∫ÜÂ∑®Â§ßÁöÑÊΩúÂäõÂíåËá™‰ø°ÔºåËØÅÊòé‰∫Ü‰ªñÂÆåÂÖ®ÊúâËµÑÊ†ºËÉú‰ªªËøô‰ªΩÂ∑•‰Ωú„ÄÇ",
            words: [
                { t: "candidate", uk: "[Ààk√¶nd…™d…ôt]", us: "[Ààk√¶nd…™de…™t]", m: "n. ÂÄôÈÄâ‰∫∫", ex: "She is the best candidate for the job. (Â•πÊòØËøô‰∏™ËÅå‰ΩçÁöÑÊúÄ‰Ω≥‰∫∫ÈÄâ„ÄÇ)", note: "cand(ÁôΩ) -> Á∫ØÊ¥Å„ÄÇÊê≠ÈÖçÔºöideal candidate (ÁêÜÊÉ≥ÁöÑÂÄôÈÄâ‰∫∫)", x: "14%", y: "10%" },
                { t: "interview", uk: "[Àà…™nt…ôvjuÀê]", us: "[Àà…™nt…ôrvjuÀê]", m: "n. Èù¢ËØï", ex: "The interview lasted for half an hour. (Èù¢ËØïÊåÅÁª≠‰∫ÜÂçäÂ∞èÊó∂„ÄÇ)", note: "inter(Èó¥)+view(Áúã)„ÄÇÊê≠ÈÖçÔºöface-to-face interview (Èù¢ÂØπÈù¢Èù¢ËØï)", x: "86%", y: "10%" },
                { t: "potential", uk: "[p…ôÀàten Él]", us: "[p…ôÀàten Él]", m: "n. ÊΩúÂäõ", ex: "He has the potential to be a great artist. (‰ªñÊúâÊàê‰∏∫‰ºüÂ§ßËâ∫ÊúØÂÆ∂ÁöÑÊΩúÂäõ„ÄÇ)", note: "poten(ÂäõÈáè)„ÄÇÊê≠ÈÖçÔºöpotential customer (ÊΩúÂú®ÂÆ¢Êà∑)", x: "11%", y: "78%" },
                { t: "confidence", uk: "[Ààk…ínf…™d…ôns]", us: "[Àà…ëÀênf…™d…ôns]", m: "n. Ëá™‰ø°", ex: "He speaks with great confidence. (‰ªñËØ¥ËØùÂÖÖÊª°Ëá™‰ø°„ÄÇ)", note: "con+fid(‰ø°)„ÄÇÊê≠ÈÖçÔºöself-confidence (Ëá™‰ø°ÂøÉ)", x: "62%", y: "12%" },
                { t: "qualify", uk: "[Ààkw…íl…™fa…™]", us: "[Ààkw…ëÀêl…™fa…™]", m: "v. ËÉú‰ªª/ÊúâËµÑÊ†º", ex: "He is newly qualified as a doctor. (‰ªñÂàöÂèñÂæóÂåªÁîüËµÑÊ†º„ÄÇ)", note: "qual(Ë¥®)+ify„ÄÇÊê≠ÈÖçÔºöqualify for (ÂèñÂæó...ÁöÑËµÑÊ†º)", x: "48%", y: "91%" }
            ]
        }
    ];

    let current = 0;
    let currentWord = "";
    let currentExAudio = "";

    function render() {
        const data = dataset[current];
        const area = document.getElementById('image-area');
        area.innerHTML = '';
        area.style.backgroundImage = `url('${data.img}')`;
        document.getElementById('s-title').innerText = data.title;
        document.getElementById('s-en-text').innerText = data.en;
        document.getElementById('s-zh').innerText = data.zh;
        data.words.forEach(w => {
            const tag = document.createElement('div');
            tag.className = 'tag';
            tag.style.left = w.x;
            tag.style.top = w.y;
            tag.innerText = w.t;
            tag.onclick = (e) => { e.stopPropagation(); showDetail(w); };
            area.appendChild(tag);
        });
        document.getElementById('p-idx').innerText = `${current + 1} / ${dataset.length}`;
        document.getElementById('pBtn').disabled = current === 0;
        document.getElementById('nBtn').disabled = current === dataset.length - 1;
        document.getElementById('d-init').style.display = 'block';
        document.getElementById('d-box').style.display = 'none';
    }

    function showDetail(w) {
        currentWord = w.t;
        // ÊèêÂèñ‰æãÂè•‰∏≠ÁöÑËã±ÊñáÈÉ®ÂàÜÁî®‰∫éÂèëÈü≥
        currentExAudio = w.ex.split('(')[0]; 
        
        document.getElementById('d-init').style.display = 'none';
        document.getElementById('d-box').style.display = 'block';
        document.getElementById('d-t').innerText = w.t;
        document.getElementById('p-uk').innerText = "Ëã± " + w.uk;
        document.getElementById('p-us').innerText = "Áæé " + w.us;
        document.getElementById('d-m').innerText = w.m;
        document.getElementById('d-ex-text').innerText = w.ex;
        
        if (w.note) {
            let noteContent = "ËÆ∞ÂøÜÔºö" + w.note;
            const parts = noteContent.split(/(Êê≠ÈÖçÔºö)/);
            if (parts.length > 1) {
                document.getElementById('d-note').innerHTML = parts[0] + "<br>" + parts[1] + parts[2];
            } else {
                document.getElementById('d-note').innerText = noteContent;
            }
        } else {
            document.getElementById('d-note').innerText = "";
        }
        speak(w.t, 2);
    }

    function speakWord(type) { if(currentWord) speak(currentWord, type); }
    function speakScene() { speak(dataset[current].en, 2); }
    function speakExample() { if(currentExAudio) speak(currentExAudio, 2); }
    
    function speak(text, type) {
        const url = `https://dict.youdao.com/dictvoice?audio=${encodeURIComponent(text)}&type=${type}`;
        new Audio(url).play();
    }
    
    function move(n) { current += n; render(); document.getElementById('scrollable-body').scrollTo(0,0); }
    
    function handleSearch() {
        const q = document.getElementById('search-input').value.toLowerCase().trim();
        const res = document.getElementById('search-results');
        if(!q) { res.style.display = 'none'; return; }
        let h = '';
        dataset.forEach((p, pi) => {
            p.words.forEach(w => {
                if(w.t.includes(q) || w.m.includes(q)) {
                    h += `<div class="res-item" onclick="go(${pi}, '${w.t}')">üîç ${w.t} - ${w.m}</div>`;
                }
            });
        });
        res.innerHTML = h || '<div class="res-item" style="color:#999">Êú™ÊâæÂà∞Áõ∏ÂÖ≥ËØçÊ±á</div>';
        res.style.display = 'block';
    }
    function go(i, word) {
        current = i;
        render();
        document.getElementById('search-results').style.display = 'none';
        document.getElementById('search-input').value = '';
        const w = dataset[i].words.find(x => x.t === word);
        if(w) showDetail(w);
    }
    window.onload = render;
</script>
</body>
</html>
