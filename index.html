<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ ¸å¿ƒè¯æ±‡éšèº«å­¦ - ç¬¬ä¸€å•å…ƒ</title>
    <style>
        :root { --primary: #4a90e2; --bg: #f4f7f9; }
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); font-family: sans-serif; display: flex; justify-content: center; height: 100vh; overflow: hidden; }
        #app-wrapper { width: 100%; max-width: 500px; height: 100vh; display: flex; flex-direction: column; background: white; position: relative; }
        /* é‡æ„æœç´¢æ å¸ƒå±€ï¼šåŒ…å«è¿”å›æŒ‰é’®+æœç´¢æ¡† */
        #search-container { 
            padding: 10px; 
            background: #fff; 
            border-bottom: 1px solid #eee; 
            position: sticky; 
            top: 0; 
            z-index: 100; 
            flex-shrink: 0;
            display: flex; /* æ”¹ä¸ºå¼¹æ€§å¸ƒå±€ */
            align-items: center; /* å‚ç›´å±…ä¸­ */
            gap: 8px; /* æŒ‰é’®å’Œæœç´¢æ¡†é—´è· */
        }
        /* ä¼˜åŒ–è¿”å›æŒ‰é’®æ ·å¼ */
        #backBtn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1em;
            background: #f5f8fc; /* æµ…è“èƒŒæ™¯æ›´æŸ”å’Œ */
            color: var(--primary);
            border: 1px solid #e8f0fe; /* ç»†è¾¹æ¡†æå‡è´¨æ„Ÿ */
            box-shadow: none; /* å»æ‰åšé‡é˜´å½± */
            flex-shrink: 0; /* é˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */
        }
        #search-input { 
            flex: 1; /* æœç´¢æ¡†å æ»¡å‰©ä½™ç©ºé—´ */
            padding: 10px 15px; 
            border: 1px solid #ddd; 
            border-radius: 20px; 
            outline: none; 
            font-size: 0.9em;
        }
        #search-results { 
            position: absolute; 
            top: 55px; 
            left: 10px; 
            right: 10px; 
            background: white; 
            border: 1px solid #eee; 
            border-radius: 10px; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.1); 
            max-height: 300px; 
            overflow-y: auto; 
            display: none; 
            z-index: 101; 
        }
        .res-item { padding: 12px; border-bottom: 1px solid #f9f9f9; font-size: 0.9em; }
        #scrollable-body { flex: 1; overflow-y: auto; padding-bottom: 80px; }
        #image-area { width: 100%; aspect-ratio: 4/3; background-size: cover; background-position: center; position: relative; background-color: #e0e0e0; }
        .tag { position: absolute; background: rgba(74, 144, 226, 0.0); color: black; padding: 4px 10px; border-radius: 4px; font-size: 13px; font-weight: bold;  cursor: pointer; transform: translate(-50%, -50%); box-shadow: 0 2px 6px rgba(0,0,0,0.0); transition: color 0.2s; }
        
        /* éŸ³é¢‘æ’­æ”¾å™¨æ ·å¼ */
        #audio-player-container { padding: 10px 20px 0; }
        audio { width: 100%; height: 35px; }

        #s-title { background: #eef5ff; display: block; padding: 4px 15px; border-radius: 20px; margin: 15px auto 10px; width: fit-content; font-weight: bold; color: var(--primary); font-size: 0.9rem; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        #main-content { padding: 0 20px 20px; }
        .audio-icon { width: 16px; height: 16px; vertical-align: middle; margin-right: 6px; cursor: pointer; flex-shrink: 0; }
        .phonetic-icon { width: 12px; height: 12px; vertical-align: middle; margin-left: 4px; }
        #s-en { font-size: 0.9em; color: #333; line-height: 1.4; margin-bottom: 8px; display: flex; align-items: flex-start; }
        #s-zh { color: #666; font-size: 0.7em; line-height: 1.5; margin-bottom: 20px; padding-left: 22px; }
        #d-box { background: #f8fbff; border: 1px solid #d0e3f9; border-radius: 12px; padding: 15px; }
        #d-t { font-size: 1.1em; font-weight: bold; color: var(--primary); margin-bottom: 10px; display: block; }
        .phonetic-wrap { display: flex; gap: 8px; margin-bottom: 10px; flex-wrap: wrap; }
        .phonetic-btn { background: #eef5ff; border: 1px solid #d0e3f9; padding: 4px 8px; border-radius: 6px; font-size: 0.7em; color: #777; cursor: pointer; display: flex; align-items: center; }
        #d-m { font-size: 0.85em; font-weight: bold; margin-bottom: 8px; color: #444; }
        #d-note { color: #777; font-size: 0.75em; line-height: 1.6; margin-bottom: 12px; }
        #d-ex { color: #555; font-size: 0.8em; background: #fff; padding: 8px; border-radius: 6px; border-left: 3px solid #adcff7; line-height: 1.4; display: flex; align-items: flex-start; cursor: pointer; }
        /* åº•éƒ¨å¯¼èˆªæ æ ·å¼ */
        #nav-bar { position: absolute; bottom: 0; width: 100%; height: 60px; display: flex; background: white; border-top: 1px solid #eee; align-items: center; justify-content: space-around; padding: 0 20px; }
        button { padding: 8px 15px; border: none; background: var(--primary); color: white; border-radius: 20px; cursor: pointer; font-size: 0.85em; white-space: nowrap; }
        button:disabled { background: #ccc; }
        /* æ”¶è—æŒ‰é’®æ ·å¼ */
        #favorite-btn { font-size: 1.4em; cursor: pointer; line-height: 1; transition: transform 0.1s; }
        #favorite-btn:active { transform: scale(1.2); }
    </style>
</head>
<body>

<div id="app-wrapper">
    <div id="search-container">
        <button id="backBtn" onclick="goBack()">â†</button>
        <input type="text" id="search-input" placeholder="ğŸ” æœç´¢å•è¯ã€å«ä¹‰æˆ–ç¬”è®°..." oninput="handleSearch()">
        <div id="search-results"></div>
    </div>
    <div id="scrollable-body">
        <div id="image-area"></div>
        
        <div id="audio-player-container">
            <audio id="main-audio" controls></audio>
        </div>

        <div id="main-content">
            <div id="s-title"></div> 
            <div id="s-en">
                <img src="https://img.icons8.com/material-rounded/24/4a90e2/speaker.png" class="audio-icon" onclick="speakScene()">
                <span id="s-en-text"></span>
            </div>
            <div id="s-zh"></div>
            <div id="d-init" style="color:#999; text-align:center; font-size:0.9em; border-top:1px dashed #ddd; padding-top:15px;">ç‚¹å‡»ç”»é¢æ ‡ç­¾æŸ¥çœ‹è¯¦æƒ…</div>
            <div id="d-box" style="display:none">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <div id="d-t" style="text-transform: lowercase; margin-bottom: 0;"></div>
                    <div id="favorite-btn" onclick="toggleFavorite()">â˜†</div>
                </div>
                <div class="phonetic-wrap">
                    <div class="phonetic-btn" onclick="speakWord(1)">
                        <span id="p-uk">è‹± [ ]</span><img src="https://img.icons8.com/material-rounded/24/4a90e2/speaker.png" class="phonetic-icon">
                    </div>
                    <div class="phonetic-btn" onclick="speakWord(2)">
                        <span id="p-us">ç¾ [ ]</span><img src="https://img.icons8.com/material-rounded/24/4a90e2/speaker.png" class="phonetic-icon">
                    </div>
                </div>
                <div id="d-m"></div>
                <div id="d-note"></div>
                <div id="d-ex" onclick="speakExample()">
                    <img src="https://img.icons8.com/material-rounded/24/4a90e2/speaker.png" class="audio-icon" style="width:14px; height:14px; margin-top:3px;">
                    <span id="d-ex-text"></span>
                </div>
            </div>
        </div>
    </div>
    <div id="nav-bar">
        <button id="pBtn" onclick="move(-1)">ä¸Šä¸€ç»„</button>
        <span id="p-idx">1 / 5</span>
        <button id="nBtn" onclick="move(1)">ä¸‹ä¸€ç»„</button>
    </div>
</div>

<script>
const dataset = [
        {
            title: "å­¦éœ¸çš„â€œè¶…èƒ½åŠ›â€",img: "https://s41.ax1x.com/2026/01/21/pZc8zLT.jpg",
            audio: "audio/group1.mp3",
            en: "To reach a high level of achievement, he tried to concentrate on his books with high efficiency, but a flying mosquito distracted him until he felt exhausted.",
            zh: "ä¸ºäº†è·å¾—æé«˜çš„æˆå°±ï¼Œä»–è¯•å›¾ä»¥æé«˜çš„æ•ˆç‡ä¸“æ³¨äºä¹¦æœ¬ï¼Œä½†ä¸€åªé£èšŠä¸åœåœ°è®©ä»–åˆ†å¿ƒï¼Œç›´åˆ°ä»–æ„Ÿåˆ°ç²¾ç–²åŠ›ç«­ã€‚",
            words: [
                { t: "concentrate", uk: "[ËˆkÉ’nsntreÉªt]", us: "[ËˆkÉ‘ËnsntreÉªt]", m: "v. ä¸“æ³¨", ex: "I struggle to concentrate when it is too noisy. (å¤ªåµçš„æ—¶å€™æˆ‘å¾ˆéš¾é›†ä¸­æ³¨æ„åŠ›ã€‚)", note: "con(ä¸€èµ·)+centr(ä¸­å¿ƒ) -> å…¨éƒ¨èšåœ¨ä¸­å¿ƒã€‚æ­é…ï¼šconcentrate on (å…¨ç¥è´¯æ³¨äº...)", x: "32.2%", y: "51%" },
                { t: "distract", uk: "[dÉªËˆstrÃ¦kt]", us: "[dÉªËˆstrÃ¦kt]", m: "v. åˆ†å¿ƒ", ex: "Don't let the phone distract you from your study. (ä¸è¦è®©æ‰‹æœºåˆ†æ•£ä½ å­¦ä¹ çš„æ³¨æ„åŠ›ã€‚)", note: "dis(åˆ†å¼€)+tract(æ‹‰) -> æŠŠæ³¨æ„åŠ›æ‹‰å¼€ã€‚æ­é…ï¼šdistract attention (åˆ†æ•£æ³¨æ„åŠ›)", x: "10.5%", y: "12%" },
                { t: "efficiency", uk: "[ÉªËˆfÉªÊƒnsi]", us: "[ÉªËˆfÉªÊƒnsi]", m: "n. æ•ˆç‡", ex: "The new machine will increase our work efficiency. (æ–°æœºå™¨å°†æé«˜æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡ã€‚)", note: "eff(å‡º)+fici(åš) -> åšå‡ºæ¥çš„æ•ˆæœã€‚æ­é…ï¼šwork efficiency (å·¥ä½œæ•ˆç‡)", x: "44.6%", y: "6.4%" },
                { t: "achievement", uk: "[É™ËˆtÊƒiËvmÉ™nt]", us: "[É™ËˆtÊƒiËvmÉ™nt]", m: "n. æˆå°±/æˆç»©", ex: "This prize is a great achievement for the team. (è¿™ä¸ªå¥–é¡¹å¯¹å›¢é˜Ÿæ¥è¯´æ˜¯ä¸€é¡¹å·¨å¤§çš„æˆå°±ã€‚)", note: "a+chiev(é¦–é¢†) -> æˆæœã€‚æ­é…ï¼ša sense of achievement (æˆå°±æ„Ÿ)", x: "86.7%", y: "8%" },
                { t: "exhausted", uk: "[ÉªÉ¡ËˆzÉ”ËstÉªd]", us: "[ÉªÉ¡ËˆzÉ”ËstÉªd]", m: "adj. ç²¾ç–²åŠ›ç«­", ex: "The long walk left us completely exhausted. (é•¿è·ç¦»çš„è¡Œèµ°è®©æˆ‘ä»¬å½»åº•ç²¾ç–²åŠ›ç«­ã€‚)", note: "ex(å‡º)+haust(æŠ½æ°´) -> ç²¾åŠ›æŠ½å¹²ã€‚æ­é…ï¼šfeel exhausted (æ„Ÿåˆ°ç²¾ç–²åŠ›ç«­)", x: "88%", y: "78.4%" }
            ]
        },
        {
            title: "ç»æœ›çš„â€œæ·±å¤œçªå‡»â€", img: "https://s41.ax1x.com/2026/01/21/pZc1bnS.jpg",
            audio: "audio/group2.mp3",
            en: "It is inevitable that you must overcome your sleepiness to finish this urgent assignment, because you chose to postpone it until the last minute.",
            zh: "ä½ å¿…é¡»å…‹æœå›°æ„æ¥å®Œæˆè¿™é¡¹ç´§æ€¥çš„ä»»åŠ¡ï¼Œè¿™æ˜¯ä¸å¯é¿å…çš„ï¼Œå› ä¸ºä½ é€‰æ‹©æŠŠäº‹æ¨è¿Ÿåˆ°äº†æœ€åä¸€åˆ†é’Ÿã€‚",
            words: [
                { t: "assignment", uk: "[É™ËˆsaÉªnmÉ™nt]", us: "[É™ËˆsaÉªnmÉ™nt]", m: "n. ä»»åŠ¡/ä½œä¸š", ex: "The teacher gave us a difficult assignment. (è€å¸ˆç»™äº†æˆ‘ä»¬ä¸€é¡¹å¾ˆéš¾çš„ä½œä¸šã€‚)", note: "as+sign(ç­¾å) -> ç­¾åçš„ä»»åŠ¡ã€‚æ­é…ï¼šsubmit an assignment (æäº¤ä»»åŠ¡/ä½œä¸š)", x: "77.8%", y: "74.7%" },
                { t: "postpone", uk: "[pÉ™ËˆspÉ™ÊŠn]", us: "[pÉ™ËˆspoÊŠn]", m: "v. æ¨è¿Ÿ", ex: "We had to postpone the game because of rain. (å› ä¸ºä¸‹é›¨ï¼Œæˆ‘ä»¬ä¸å¾—ä¸æ¨è¿Ÿæ¯”èµ›ã€‚)", note: "post(å)+pone(æ”¾) -> å»¶åã€‚æ­é…ï¼špostpone a meeting (æ¨è¿Ÿä¼šè®®)", x: "39.1%", y: "91.3%" },
                { t: "urgent", uk: "[ËˆÉœËdÊ’É™nt]", us: "[ËˆÉœËrdÊ’É™nt]", m: "adj. ç´§æ€¥çš„", ex: "I received an urgent message this morning. (ä»Šå¤©æ—©ä¸Šæˆ‘æ”¶åˆ°äº†ä¸€æ¡ç´§æ€¥æ¶ˆæ¯ã€‚)", note: "urg(å‚¬ä¿ƒ)+ent -> ç´§æ€¥ã€‚æ­é…ï¼šurgent matter (ç´§æ€¥äº‹é¡¹)", x: "46%", y: "16%" },
                { t: "inevitable", uk: "[ÉªnËˆevÉªtÉ™bl]", us: "[ÉªnËˆevÉªtÉ™bl]", m: "adj. ä¸å¯é¿å…çš„", ex: "War is not inevitable if we talk. (å¦‚æœé€šè¿‡å¯¹è¯ï¼Œæˆ˜äº‰å¹¶éä¸å¯é¿å…ã€‚)", note: "in(ä¸)+evit(é¿å¼€) -> é¿ä¸å¼€ã€‚æ­é…ï¼šan inevitable result (å¿…ç„¶çš„ç»“æœ)", x: "92%", y: "48.5%" },
                { t: "overcome", uk: "[ËŒÉ™ÊŠvÉ™ËˆkÊŒm]", us: "[ËŒoÊŠvÉ™rËˆkÊŒm]", m: "v. å…‹æœ", ex: "She eventually overcame her shyness. (å¥¹æœ€ç»ˆå…‹æœäº†å¥¹çš„å®³ç¾ã€‚)", note: "over(ä¸Š)+come(æ¥) -> è·¨è¿‡ã€‚æ­é…ï¼šovercome difficulties (å…‹æœå›°éš¾)", x: "67%", y: "23%" }
            ]
        },
        {
            title: "é£Ÿå ‚çš„â€œæš—é»‘æ–™ç†â€", img: "https://s41.ax1x.com/2026/01/21/pZcEo4S.jpg",
            audio: "audio/group3.mp3",
            en: "Although the chef claimed this 'mystery soup' met the safety standard and was nutritious, the student filed a complaint and used bread as a substitute rather than starve.",
            zh: "å°½ç®¡å¨å¸ˆå£°å£°ç§°è¿™ç¢—â€œç¥ç§˜æ±¤â€ç¬¦åˆå®‰å…¨æ ‡å‡†ä¸”æœ‰è¥å…»ï¼Œä½†å­¦ç”Ÿå®æ„¿æŠ•è¯‰å¹¶ç”¨é¢åŒ…ä½œä¸ºæ›¿ä»£å“ï¼Œä¹Ÿä¸æ„¿æŒ¨é¥¿ã€‚",
            words: [
                { t: "standard", uk: "[ËˆstÃ¦ndÉ™d]", us: "[ËˆstÃ¦ndÉ™rd]", m: "n. æ ‡å‡†", ex: "Your work is below the required standard. (ä½ çš„å·¥ä½œä½äºè¦æ±‚çš„æ ‡å‡†ã€‚)", note: "stand(ç«™ç«‹) -> ç«™å¾—ä½çš„è§„åˆ™ã€‚æ­é…ï¼šliving standard (ç”Ÿæ´»æ°´å¹³)", x: "19%", y: "82%" },
                { t: "nutritious", uk: "[njuËˆtrÉªÊƒÉ™s]", us: "[nuËˆtrÉªÊƒÉ™s]", m: "adj. æœ‰è¥å…»çš„", ex: "Vegetables are a nutritious part of our diet. (è”¬èœæ˜¯æˆ‘ä»¬é¥®é£Ÿä¸­è¥å…»ä¸°å¯Œçš„ä¸€éƒ¨åˆ†ã€‚)", note: "nutri(å…»åˆ†) -> å¤šå…»åˆ†çš„ã€‚æ­é…ï¼šnutritious food (è¥å…»ä¸°å¯Œçš„é£Ÿç‰©)", x: "48%", y: "13%" },
                { t: "starve", uk: "[stÉ‘Ëv]", us: "[stÉ‘Ërv]", m: "v. æŒ¨é¥¿", ex: "They were left to starve in the desert. (ä»–ä»¬è¢«é—å¼ƒåœ¨æ²™æ¼ ä¸­æŒ¨é¥¿ã€‚)", note: "æ­»å¾—(è°éŸ³)ã€‚æ­é…ï¼šstarve for (æ¸´æœ›å¾—åˆ°...)", x: "88%", y: "9.1%" },
                { t: "complaint", uk: "[kÉ™mËˆpleÉªnt]", us: "[kÉ™mËˆpleÉªnt]", m: "n. æŠ•è¯‰/æŠ±æ€¨", ex: "The manager dealt with our complaint quickly. (ç»ç†å¾ˆå¿«å¤„ç†äº†æˆ‘ä»¬çš„æŠ•è¯‰ã€‚)", note: "com(èµ·)+plain(è¯‰)ã€‚æ­é…ï¼šfile a complaint (æäº¤æŠ•è¯‰)", x: "55%", y: "92%" },
                { t: "substitute", uk: "[ËˆsÊŒbstÉªtjuËt]", us: "[ËˆsÊŒbstÉªtuËt]", m: "n. æ›¿ä»£å“", ex: "You can use honey as a substitute for sugar. (ä½ å¯ä»¥ç”¨èœ‚èœœä»£æ›¿ç³–ã€‚)", note: "sub(ä¸‹)+stit(æ”¾) -> å¤‡é€‰ã€‚æ­é…ï¼šsubstitute for (æ›¿ä»£...)", x: "90%", y: "85%" }
            ]
        },
        {
            title: "æœˆå…‰æ—çš„â€œæ¶ˆè´¹é»‘æ´â€", img: "https://s41.ax1x.com/2026/01/21/pZcE79g.jpg",
            audio: "audio/group4.mp3",
            en: "After her budget was consumed by the irresistible attraction of luxury goods, she felt deep regret because she couldn't even afford a piece of bread.",
            zh: "åœ¨é¢„ç®—è¢«å¥¢ä¾ˆå“ä¸å¯æŠ—æ‹’çš„è¯±æƒ‘æ¶ˆè€—æ®†å°½åï¼Œå¥¹æ„Ÿåˆ°æ·±æ·±çš„åæ‚”ï¼Œå› ä¸ºå¥¹ç°åœ¨è¿ä¸€ç‰‡é¢åŒ…éƒ½è´Ÿæ‹…ä¸èµ·äº†ã€‚",
            words: [
                { t: "luxury", uk: "[ËˆlÊŒkÊƒÉ™ri]", us: "[ËˆlÊŒkÊƒÉ™ri]", m: "n. å¥¢ä¾ˆå“", ex: "We can't afford such a luxury. (æˆ‘ä»¬è´Ÿæ‹…ä¸èµ·è¿™ç§å¥¢ä¾ˆã€‚)", note: "lux(å…‰) -> å‘å…‰çš„ã€‚æ­é…ï¼šluxury goods (å¥¢ä¾ˆå“)", x: "42%", y: "7.3%" },
                { t: "budget", uk: "[ËˆbÊŒdÊ’Éªt]", us: "[ËˆbÊŒdÊ’Éªt]", m: "n. é¢„ç®—", ex: "The government cut the education budget. (æ”¿åºœå‰Šå‡äº†æ•™è‚²é¢„ç®—ã€‚)", note: "bud(é’±åŒ…)+getã€‚æ­é…ï¼šwithin budget (åœ¨é¢„ç®—å†…)", x: "10%", y: "93.8%" },
                { t: "consume", uk: "[kÉ™nËˆsjuËm]", us: "[kÉ™nËˆsuËm]", m: "v. æ¶ˆè€—/æ¶ˆè´¹", ex: "Big cars consume more fuel. (å¤§æ’é‡æ±½è½¦æ¶ˆè€—æ›´å¤šç‡ƒæ–™ã€‚)", note: "con+sum(æ‹¿)ã€‚æ­é…ï¼štime-consuming (è€—æ—¶çš„)", x: "11%", y: "57%" },
                { t: "afford", uk: "[É™ËˆfÉ”Ëd]", us: "[É™ËˆfÉ”Ërd]", m: "v. è´Ÿæ‹…å¾—èµ·", ex: "We can't afford to lose any more time. (æˆ‘ä»¬æ‰¿æ‹…ä¸èµ·æµªè´¹æ›´å¤šæ—¶é—´äº†ã€‚)", note: "ä¸€å†(af)å¾€å‰(ford)ã€‚æ­é…ï¼šafford to do (æ‹…è´Ÿå¾—èµ·åšæŸäº‹)", x: "92%", y: "36%" },
                { t: "regret", uk: "[rÉªËˆÉ¡ret]", us: "[rÉªËˆÉ¡ret]", m: "v./n. åæ‚”", ex: "I regret telling him my secret. (æˆ‘åæ‚”æŠŠç§˜å¯†å‘Šè¯‰äº†ä»–ã€‚)", note: "re(å›)+gret(å“­)ã€‚æ­é…ï¼šregret doing (åæ‚”åšäº†æŸäº‹)", x: "74%", y: "33%" }
            ]
        },
        {
            title: "èŒåœºæ–°äººçš„â€œå…‰èŠ’â€", img: "https://s41.ax1x.com/2026/01/21/pZcEIN8.jpg",
            audio: "audio/group5.mp3",
            en: "As a young candidate, he showed great potential and confidence during the interview, proving that he was fully qualified for the job.",
            zh: "ä½œä¸ºä¸€åå¹´è½»çš„å€™é€‰äººï¼Œä»–åœ¨é¢è¯•ä¸­å±•ç°äº†å·¨å¤§çš„æ½œåŠ›å’Œè‡ªä¿¡ï¼Œè¯æ˜äº†ä»–å®Œå…¨æœ‰èµ„æ ¼èƒœä»»è¿™ä»½å·¥ä½œã€‚",
            words: [
                { t: "candidate", uk: "[ËˆkÃ¦ndÉªdÉ™t]", us: "[ËˆkÃ¦ndÉªdeÉªt]", m: "n. å€™é€‰äºº", ex: "She is the best candidate for the job. (å¥¹æ˜¯è¿™ä¸ªèŒä½çš„æœ€ä½³äººé€‰ã€‚)", note: "cand(ç™½) -> çº¯æ´ã€‚æ­é…ï¼šideal candidate (ç†æƒ³çš„å€™é€‰äºº)", x: "17%", y: "10.5%" },
                { t: "interview", uk: "[ËˆÉªntÉ™vjuË]", us: "[ËˆÉªntÉ™rvjuË]", m: "n. é¢è¯•", ex: "The interview lasted for half an hour. (é¢è¯•æŒç»­äº†åŠå°æ—¶ã€‚)", note: "inter(é—´)+view(çœ‹)ã€‚æ­é…ï¼šface-to-face interview (é¢å¯¹é¢é¢è¯•)", x: "87%", y: "12%" },
                { t: "potential", uk: "[pÉ™ËˆtenÊƒl]", us: "[pÉ™ËˆtenÊƒl]", m: "n. æ½œåŠ›", ex: "He has the potential to be a great artist. (ä»–æœ‰æˆä¸ºä¼Ÿå¤§è‰ºæœ¯å®¶çš„æ½œåŠ›ã€‚)", note: "poten(åŠ›é‡)ã€‚æ­é…ï¼špotential customer (æ½œåœ¨å®¢æˆ·)", x: "12%", y: "78%" },
                { t: "confidence", uk: "[ËˆkÉ’nfÉªdÉ™ns]", us: "[ËˆÉ‘ËnfÉªdÉ™ns]", m: "n. è‡ªä¿¡", ex: "He speaks with great confidence. (ä»–è¯´è¯å……æ»¡è‡ªä¿¡ã€‚)", note: "con+fid(ä¿¡)ã€‚æ­é…ï¼šself-confidence (è‡ªä¿¡å¿ƒ)", x: "64%", y: "13%" },
                { t: "qualify", uk: "[ËˆkwÉ’lÉªfaÉª]", us: "[ËˆkwÉ‘ËlÉªfaÉª]", m: "v. èƒœä»»/æœ‰èµ„æ ¼", ex: "He is newly qualified as a doctor. (ä»–åˆšå–å¾—åŒ»ç”Ÿèµ„æ ¼ã€‚)", note: "qual(è´¨)+ifyã€‚æ­é…ï¼šqualify for (å–å¾—...çš„èµ„æ ¼)", x: "46%", y: "92%" }
            ]
        }
    ];
    let current = 0;
    let currentWord = "";
    let currentExAudio = "";

    function render() {
        const data = dataset[current];
        const area = document.getElementById('image-area');
        area.innerHTML = '';
        area.style.backgroundImage = `url('${data.img}')`;
        
        // æ›´æ–°éŸ³é¢‘æº
        document.getElementById('main-audio').src = data.audio;

        document.getElementById('s-title').innerText = data.title;
        document.getElementById('s-en-text').innerText = data.en;
        document.getElementById('s-zh').innerText = data.zh;
        data.words.forEach(w => {
            const tag = document.createElement('div');
            tag.className = 'tag';
            tag.style.left = w.x;
            tag.style.top = w.y;
            tag.innerText = w.t;
            tag.dataset.word = w.t; // æ–¹ä¾¿åé¢æŸ¥æ‰¾
            tag.onclick = (e) => { e.stopPropagation(); showDetail(w); };
            area.appendChild(tag);
        });
        document.getElementById('p-idx').innerText = `${current + 1} / ${dataset.length}`;
        document.getElementById('pBtn').disabled = current === 0;
        document.getElementById('nBtn').disabled = current === dataset.length - 1;
        document.getElementById('d-init').style.display = 'block';
        document.getElementById('d-box').style.display = 'none';
    }

    // è·å–æ”¶è—åˆ—è¡¨ 
    function getFavorites() {
        const favs = localStorage.getItem('my_favorites');
        return favs ? JSON.parse(favs) : [];
    }

    // åˆ‡æ¢æ”¶è—çŠ¶æ€ 
    function toggleFavorite() {
        let favs = getFavorites();
        const idx = favs.indexOf(currentWord);
        if (idx > -1) {
            favs.splice(idx, 1);
        } else {
            favs.push(currentWord);
        }
        localStorage.setItem('my_favorites', JSON.stringify(favs));
        updateFavoriteIcon();
    }

    // æ›´æ–°æ˜Ÿæ˜Ÿå›¾æ ‡ 
    function updateFavoriteIcon() {
        const favs = getFavorites();
        const btn = document.getElementById('favorite-btn');
        if (favs.includes(currentWord)) {
            btn.innerText = "â˜…";
            btn.style.color = "#f5a623";
        } else {
            btn.innerText = "â˜†";
            btn.style.color = "#ccc";
        }
    }

    function showDetail(w) {
        currentWord = w.t;
        // æå–ä¾‹å¥ä¸­çš„è‹±æ–‡éƒ¨åˆ†ç”¨äºå‘éŸ³
        currentExAudio = w.ex.split('(')[0]; 

        // è°ƒæ•´æ ‡ç­¾é¢œè‰²ï¼šç‚¹å‡»çš„å˜è“ï¼Œå…¶ä»–çš„å˜é»‘
        const tags = document.querySelectorAll('.tag');
        tags.forEach(t => {
            if(t.innerText === w.t) {
                t.style.color = '#4a90e2';
            } else {
                t.style.color = 'black';
            }
        });
        
        document.getElementById('d-init').style.display = 'none';
        document.getElementById('d-box').style.display = 'block';
        document.getElementById('d-t').innerText = w.t;
        document.getElementById('p-uk').innerText = "è‹± " + w.uk;
        document.getElementById('p-us').innerText = "ç¾ " + w.us;
        document.getElementById('d-m').innerText = w.m;
        document.getElementById('d-ex-text').innerText = w.ex;
        
        if (w.note) {
            let noteContent = "è®°å¿†ï¼š" + w.note;
            const parts = noteContent.split(/(æ­é…ï¼š)/);
            if (parts.length > 1) {
                document.getElementById('d-note').innerHTML = parts[0] + "<br>" + parts[1] + parts[2];
            } else {
                document.getElementById('d-note').innerText = noteContent;
            }
        } else {
            document.getElementById('d-note').innerText = "";
        }
        
        updateFavoriteIcon(); // æ˜¾ç¤ºè¯¦æƒ…æ—¶åŒæ­¥åˆ·æ–°æ˜Ÿæ˜ŸçŠ¶æ€ 
        speak(w.t, 2);
    }

    function speakWord(type) { if(currentWord) speak(currentWord, type); }
    function speakScene() { speak(dataset[current].en, 2); }
    function speakExample() { if(currentExAudio) speak(currentExAudio, 2); }
    
    function speak(text, type) {
        const url = `https://dict.youdao.com/dictvoice?audio=${encodeURIComponent(text)}&type=${type}`;
        new Audio(url).play();
    }
    
    function move(n) { current += n; render(); document.getElementById('scrollable-body').scrollTo(0,0); }

    // è¿”å›ä¸»é¡µå‡½æ•°
    function goBack() {
        window.location.href = 'index.html';
    }
    
    function handleSearch() {
        const q = document.getElementById('search-input').value.toLowerCase().trim();
        const res = document.getElementById('search-results');
        if(!q) { res.style.display = 'none'; return; }
        let h = '';
        dataset.forEach((p, pi) => {
            p.words.forEach(w => {
                if(w.t.includes(q) || w.m.includes(q)) {
                    h += `<div class="res-item" onclick="go(${pi}, '${w.t}')">ğŸ” ${w.t} - ${w.m}</div>`;
                }
            });
        });
        res.innerHTML = h || '<div class="res-item" style="color:#999">æœªæ‰¾åˆ°ç›¸å…³è¯æ±‡</div>';
        res.style.display = 'block';
    }
    function go(i, word) {
        current = i;
        render();
        document.getElementById('search-results').style.display = 'none';
        document.getElementById('search-input').value = '';
        const w = dataset[i].words.find(x => x.t === word);
        if(w) showDetail(w);
    }
    window.onload = render;
</script>
</body>
</html>
